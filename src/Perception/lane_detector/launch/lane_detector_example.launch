<launch>

    <arg name="debug"
        default="true"  />
    <arg name="load_config"
        default="true"  />
    <arg name="config_file"
        default="default" />
    <arg name="config_path"
        default="$(find lane_detector)/config/$(arg config_file).yaml"  />
    <arg name="node_respawn"
        default="true"  />
    <arg name="node_output"
        default="screen" doc="screen or log" />

    <group if="$(arg load_config)">
        <rosparam command="load"
            file="$(arg config_path)"  />
    </group>

    <arg name="homography_file" default="/home/$(env USER)/.ros/homography_export.yaml" />
    <arg name="hom_cut_file" default="/home/$(env USER)/.ros/hom_cut.yaml" />

    <node
        name="lane_detector"
        pkg="lane_detector"
        type="lane_detector"
        respawn="$(arg node_respawn)"
        output="$(arg node_output)" >
        
        <param name="debug_mode" value="$(arg debug)" />
        <param name="tune_params_mode" value="false"/>

        <param name="config_file" value="$(arg homography_file)" />
        <param name="hom_cut_file" value="$(arg hom_cut_file)" />
    </node>

</launch>
