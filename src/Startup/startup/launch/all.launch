<launch>

<arg name="debug"
     value="$(optenv SELFIE_DEBUG false)" />

<!-- Control -->
    <!-- drive_multiplexer -->
    <include file="$(find drive_multiplexer)/launch/drive_multiplexer_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- pid_carrot_follower -->
    <include file="$(find pid_carrot_follower)/launch/pid_carrot_follower_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

<!-- Hardware -->
    <!-- camera -->
    <include file="$(find selfie_basler_fisheye)/launch/selfie_basler_fisheye_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- stm32_bridge -->
    <include file="$(find stm32_bridge)/launch/stm32_bridge_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

<!-- Navigation -->
    <!-- lane_pilot -->
    <include file="$(find lane_pilot)/launch/lane_pilot_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- path_generator -->
    <include file="$(find path_generator)/launch/path_generator_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

<!-- Perception -->
    <!-- lane_detector -->
    <include file="$(find lane_detector)/launch/lane_detector_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- obstacle_detector -->
    <include file="$(find obstacle_detector)/launch/obstacle_detector_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- odometry -->
    <include file="$(find odometry)/launch/odometry_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

<!-- Tasks -->
    <!-- free_drive -->
    <include file="$(find free_drive)/launch/free_drive_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- intersection -->
    <include file="$(find intersection)/launch/intersection_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- park -->
    <include file="$(find park)/launch/park_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- parking_spot_detector -->
    <include file="$(find parking_spot_detector)/launch/detect_parking_spot_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- scheduler -->
    <include file="$(find scheduler)/launch/scheduler_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

    <!-- starting_procedure -->
    <include file="$(find starting_procedure)/launch/starting_procedure_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

<!-- Startup -->
    <!-- transforms -->
    <node pkg="tf" type="static_transform_publisher" name="tf_base2laser"           args="0.3 0 0 0 0 0 base_link laser         10"/>
    <node pkg="tf" type="static_transform_publisher" name="tf_base2imu"             args="0   0 0 0 0 0 base_link imu           10"/>
    <node pkg="tf" type="static_transform_publisher" name="tf_base2road_markings"   args="0   0 0 0 0 0 base_link road_markings 10"/>

    <!-- diagnostics -->
    <include file="$(find diagnostics)/launch/diagnostics_example.launch" >
        <arg name="debug" 
             value="$(arg debug)" />
    </include>

</launch>